#---------------------------------------------------------------
# PREPROCESSOR OPTIONS:
#
CPP       =/lib/cpp -P -C -traditional
CPPINCLUDE=-I$(MONDO_INC) -I$(HDF_INC) \
           -I/usr/local/include -I$(MPI_INC) -I$(IPM_INC)
#
# PREPROCESSING OPTIONS:
#
CPPOPTS = -DIPM -DPERIODIC -DPARALLEL_CLONES  -DPARALLEL
#---------------------------------------------------------------
# C Compiler and options
#
CC        =  gcc
#CDEBUG   = -g
COPTIMIZE = -O1
CFLAGS    = $(COPTIMIZE) $(CDEBUG) $(CPPOPTS)
#---------------------------------------------------------------
# Fortran postfixes for compiler peculiarities
#
LIST_POSTFIX  = lst
F77_POSTFIX   = f
F90_POSTFIX   = f90
MOD_POSTFIX   = mod
#---------------------------------------------------------------
# Fortran Compilers, options and include files
#
F90           = pgf90
F90_OPTIMIZE  = -O1 -tp p6
#F90_DEBUG    = -g -C -Mbounds -Minfo=all -Minform=inform -Mchkptr
#F_LIST       = -Mlist
#F_PROF       = -Mprof=lines
F90_MISC      = $(F_LIST) $(F_PROF) -Mbackslash
F90_INCLUDE   = -I$(MONDO_HOME)/Includes/               \
                -I$(MONDO_HOME)/MondoMods               \
                -I/usr/local/include -I$(MPI_INC) -I$(IPM_INC)
F90_FLAGS     = $(F90_MISC) $(F90_OPTIMIZE) $(F90_DEBUG) $(F90_INCLUDE)
#---------------------------------------------------------------
# LINK/LOADER DIRECTIVES
#
LD          = $(F90)
LDMISC      = $(F_PROF) -v  -Wl,-Bstatic
# make statically linked executables
LDFLAGS     = $(LDMISC) -o
#---------------------------------------------------------------
# Archive
#
AR      = ar
ARFLAGS = -rcv
RANLIB  = ranlib
#-------------------------------------------------------------------
#
# MPI libraries
#
MPI_LIBS = -L$(MPI_LIB) -lmpich -lgm -lpthread
#
#---------------------------------------------------------------------
#
# IPM Timing libraries
#
IPM_LIBS = -L$(IPM_LIB) -lipm 
#---------------------------------------------------------------------
#
#  HDF5 libraries with compression and jpeg libs.
#
HDF_LIBS = -L$(HDF_LIB) -lhdf5 -ljpeg -lz
#---------------------------------------------------------------------
#
#  Mondo libraries
#
MONDO_LIBS= -L$(MONDO_LIB) -lMondoMods
#-------------------------------------------------------------------------
#
#  The generic libs needed by most of the programs.
#
F90_LIBRARIES = $(MONDO_LIBS) $(MPI_LIBS) $(IPM_LIBS) $(HDF_LIBS) 
#--------------------------------------------------------------------------
#  'Nuff said
#
LAPACK = -llapack -lblas
#---------------------------------------------------------------------------
